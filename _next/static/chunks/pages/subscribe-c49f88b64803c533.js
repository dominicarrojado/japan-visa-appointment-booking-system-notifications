(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[367],{6829:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/subscribe",function(){return n(7203)}])},5128:function(e,t,n){"use strict";n.d(t,{Wu:function(){return i},ZP:function(){return u},Ix:function(){return s}});var r,i,a=n(5893);n(7294);var o=n(4184),c=n.n(o);function s(e,t){return c()("inline-flex justify-center w-full rounded-md px-3.5 py-2.5 text-center text-sm font-semibold shadow-sm select-none","focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",{"bg-indigo-600 text-white hover:bg-indigo-500 focus-visible:outline-indigo-600":e===i.PRIMARY,"border border-gray-300  bg-white text-gray-900 hover:bg-gray-200 focus-visible:outline-black":e===i.SECONDARY,"opacity-60 pointer-events-none":t})}function u(e){let{className:t,children:n,disabled:r,type:o="button",variant:u=i.PRIMARY,...l}=e;return(0,a.jsx)("button",{...l,type:o,disabled:r,className:c()(t,s(u,r)),children:n})}(r=i||(i={})).PRIMARY="primary",r.SECONDARY="secondary"},4044:function(e,t,n){"use strict";var r=n(5893),i=n(7294),a=n(4184),o=n.n(a),c=n(5128);let s=(0,i.forwardRef)((e,t)=>{let{target:n,rel:i,className:a,children:s,variant:u=c.Wu.PRIMARY,...l}=e;return(0,r.jsx)("a",{...l,ref:t,className:o()(a,(0,c.Ix)(u)),children:s})});s.displayName="ButtonLink",t.Z=s},923:function(e,t,n){"use strict";n.d(t,{p_:function(){return u},pg:function(){return c},s9:function(){return l},tL:function(){return s}});var r=n(7294),i=n(9404),a=n(6683),o=n(4696);function c(){let[e,t]=(0,r.useState)(a.M.DEFAULT),i=async e=>{try{t(a.M.LOADING);let r=(await n.e(856).then(n.bind(n,2856))).default;return await r.post("".concat(o.T5).concat(a.N$.SUBSCRIPTION_REQUESTS),{contact:e,contactMode:"email",topics:["japan-visa"]}),t(a.M.SUCCESS),!0}catch(e){return t(a.M.ERROR),!1}};return[e,i]}function s(){let[e,t]=(0,r.useState)(a.M.DEFAULT),c=async()=>{try{let e=(0,i.Q)("id");if(!e)return t(a.M.NOT_FOUND);t(a.M.LOADING);let r=(await n.e(856).then(n.bind(n,2856))).default,c="".concat(o.T5).concat(a.N$.SUBSCRIPTION_REQUEST_VERIFY);c=c.replace(":id",e),await r.post(c),t(a.M.SUCCESS)}catch(e){e.response&&404===e.response.status?t(a.M.NOT_FOUND):t(a.M.ERROR)}};return[e,c]}function u(){let[e,t]=(0,r.useState)(a.M.DEFAULT),i=async e=>{try{t(a.M.LOADING);let r=(await n.e(856).then(n.bind(n,2856))).default,i="".concat(o.T5).concat(a.N$.SUBSCRIPTION);return i=(i=i.replace(":contact-mode","email")).replace(":topic","japan-visa"),i="".concat(i,"?email=").concat(encodeURIComponent(e)),await r.delete(i),t(a.M.SUCCESS),!0}catch(e){return t(a.M.ERROR),!1}};return[e,i]}function l(){let[e,t]=(0,r.useState)("----------------------"),i=async()=>{try{let e=(await n.e(856).then(n.bind(n,2856))).default,r=await e.get("".concat(o.T5).concat(a.N$.LAST_AVAILABLE_SLOTS_INFO));if(r.data&&r.data.updatedAt){let e=new Date(r.data.updatedAt),n=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).format(e);t(n)}return!0}catch(e){return!1}};return[e,i]}},7203:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(5893),i=n(1664),a=n.n(i),o=n(7294),c=n(2962),s=n(4044);function u(e){let{children:t}=e;return(0,r.jsx)("h2",{className:"text-lg leading-8 text-gray-900 font-semibold",children:t})}var l=n(923),d=n(6683);function f(){let[e,t]=(0,l.tL)();return(0,o.useEffect)(()=>{t()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.PB,{noindex:!0}),e===d.M.LOADING&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{children:"Verifying subscription..."}),(0,r.jsx)("p",{children:"Please wait while we verify your subscription. This process may take a few moments. Thank you for your patience and interest in this service."})]}),e===d.M.SUCCESS&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{children:"Subscription confirmed"}),(0,r.jsx)("p",{children:"You're now subscribed to the Embassy of Japan in Singapore Visa Appointment Notification Service for Visa (Tourism) applications. Get ready to receive updates when a slot becomes available."}),(0,r.jsx)("div",{children:(0,r.jsx)(a(),{href:d.AW.HOME,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(s.Z,{children:"Go Home"})})})]}),e===d.M.NOT_FOUND&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{children:"Token expired or not found"}),(0,r.jsx)("p",{children:"Your confirmation token has expired or cannot be found. If you have not confirmed your subscription yet, please resubscribe to receive updates on new slots."}),(0,r.jsx)("div",{children:(0,r.jsx)(a(),{href:d.AW.HOME,passHref:!0,legacyBehavior:!0,children:(0,r.jsx)(s.Z,{children:"Go Home"})})})]}),e===d.M.ERROR&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u,{children:"Something went wrong"}),(0,r.jsx)("p",{children:"Please try again later. If you continue to experience issues, please contact me and we'll do our best to assist you. Thank you for your patience and understanding."})]})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=6829)}),_N_E=e.O()}]);